import{a as j}from"./chunk-YW63CB76.js";import{e as k,h as I}from"./chunk-PC5BKWSZ.js";import{a as F,b as O,c as Q,d as A}from"./chunk-QUCLZ2T2.js";import{a as M}from"./chunk-ZLFFNHPO.js";import{Aa as p,Ba as v,Ga as _,Ia as R,Ka as E,La as y,Ma as w,Qa as a,Ra as l,Ua as h,V as g,X as S,Za as s,_a as m,aa as d,ba as f,cb as u,db as P,jb as V,kb as B,qb as C,rb as b,sb as x,tb as H,v as T}from"./chunk-7VSCR5LV.js";var D=["profileBtn"],L=["dropdown"];function q(i,o){if(i&1){let r=h();a(0,"div",null,7)(2,"app-button",8),s("click",function(){d(r);let t=m();return f(t.openDropdown())}),u(3),l()()}if(i&2){let r=m();p(2),_("buttonType","ghost")("leftIcon","profile"),p(1),P(r.loginService.user().name)}}function X(i,o){if(i&1){let r=h();a(0,"app-button",3),s("click",function(){d(r);let t=m();return f(t.routerPage("login"))}),u(1,"\u6703\u54E1\u767B\u5165"),l()}i&2&&_("buttonType","ghost")}function Y(i,o){if(i&1){let r=h();a(0,"ul",9)(1,"li",10),s("click",function(){d(r);let t=m();return f(t.selectItem("profile"))}),u(2,"\u6211\u7684\u5E33\u6236"),l(),a(3,"li",10),s("click",function(){d(r);let t=m();return f(t.selectItem("logout"))}),u(4,"\u767B\u51FA"),l()()}}var z=i=>({"bg-transparent":i}),ne=(()=>{let o=class o{constructor(e,t){this.overlay=e,this.viewContainerRef=t,this.router=g(I),this.loginService=g(j)}ngOnInit(){this.currentPage=this.router.url.replace("/",""),this.router.events.pipe(T(e=>e instanceof k)).subscribe(e=>{e instanceof k&&(this.currentPage=e.url.replace("/",""))})}routerPage(e){this.router.navigate([e])}openDropdown(){if(this.overlayRef&&this.overlayRef.hasAttached())this.overlayRef.detach();else{let e=this.overlay.position().flexibleConnectedTo(this.profileBtn.nativeElement).withPositions([{originX:"start",originY:"bottom",overlayX:"end",overlayY:"top"}]).withPush(!1),t=new O({positionStrategy:e,hasBackdrop:!0,backdropClass:"cdk-overlay-transparent-backdrop",scrollStrategy:this.overlay.scrollStrategies.close()});this.overlayRef=this.overlay.create(t),this.overlayRef.attach(new F(this.dropdown,this.viewContainerRef)),this.overlayRef.backdropClick().subscribe(()=>{this.overlayRef.detach()})}}selectItem(e){e==="profile"?this.router.navigate(["profile"]):(this.loginService.logout(),this.router.navigate(["/home"])),this.overlayRef.detach()}};o.\u0275fac=function(t){return new(t||o)(v(Q),v(E))},o.\u0275cmp=S({type:o,selectors:[["app-header"]],viewQuery:function(t,n){if(t&1&&(b(D,5),b(L,5)),t&2){let c;C(c=x())&&(n.profileBtn=c.first),C(c=x())&&(n.dropdown=c.first)}},standalone:!0,features:[V],decls:11,vars:8,consts:[[1,"absolute","z-50","w-full","bg-black","px-20","py-6","flex","justify-between","items-center"],["src","./assets/images/desktop/logo.png","alt","",1,"w-[12.25rem]","h-[4.5rem]","cursor-pointer",3,"click"],[1,"flex","items-center","gap-4"],[1,"text-white",3,"buttonType","click"],["class","text-white",3,"buttonType"],[3,"buttonType","click"],["dropdown",""],["profileBtn",""],[1,"text-white",3,"buttonType","leftIcon","click"],[1,"w-[16.25rem]","py-3","bg-white","rounded-[1.25rem]","shadow-sm","overflow-hidden","translate-x-[110px]"],[1,"px-6","py-4","hover:text-primary-base","hover:bg-[#F7F2EE]","cursor-pointer",3,"click"]],template:function(t,n){t&1&&(a(0,"header",0)(1,"img",1),s("click",function(){return n.routerPage("/home")}),l(),a(2,"div",2)(3,"app-button",3),s("click",function(){return n.routerPage("rooms")}),u(4,"\u5BA2\u623F\u65C5\u5BBF"),l(),y(5,q,4,3,"div")(6,X,2,1,"app-button",4),a(7,"app-button",5),s("click",function(){return n.routerPage("rooms")}),u(8,"\u7ACB\u5373\u8A02\u623F"),l()()(),y(9,Y,5,0,"ng-template",null,6,H)),t&2&&(R(B(6,z,n.currentPage==="home"||n.currentPage==="rooms")),p(3),_("buttonType","ghost"),p(2),w(5,n.loginService.isLoggedIn()?5:-1),p(1),w(6,n.loginService.isLoggedOut()?6:-1),p(1),_("buttonType","primary"))},dependencies:[M,A],styles:["[_nghost-%COMP%]{display:block}"]});let i=o;return i})();export{ne as a};
