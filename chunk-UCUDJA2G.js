import{a as H}from"./chunk-7TP3F7U7.js";import{a as q}from"./chunk-UVWUS6OX.js";import{a as w}from"./chunk-BFPH4HRU.js";import{a as I,b as $,c as O,d as S,e as Y}from"./chunk-I744FCMO.js";import{a as F,h as k}from"./chunk-PC5BKWSZ.js";import{a as j}from"./chunk-TVFP3UJM.js";import{c as L,d as V,f as D,h as P,i as T,j as R,k as z,l as M}from"./chunk-VWDGVE3M.js";import"./chunk-QUCLZ2T2.js";import{a as A}from"./chunk-ZLFFNHPO.js";import"./chunk-UZ4LNRWY.js";import{Aa as r,Ga as i,La as x,Ma as G,P as B,Qa as n,Ra as a,Sa as m,Ua as v,V as b,X as E,Za as c,_a as d,aa as h,ba as g,cb as u,jb as N,va as _}from"./chunk-7VSCR5LV.js";import"./chunk-2XJVAMHT.js";var J=(()=>{let l=class l{constructor(){this.httpClient=b(F)}postSignup(o){return this.httpClient.post("https://freyja-gek5.onrender.com/api/v1/user/signup",o)}};l.\u0275fac=function(e){return new(e||l)},l.\u0275prov=B({token:l,factory:l.\u0275fac,providedIn:"root"});let p=l;return p})();function te(p,l){if(p&1){let t=v();n(0,"form",17),m(1,"app-input",18)(2,"app-input",18)(3,"app-input",18),a(),n(4,"app-button",19),c("clickEvent",function(){h(t);let e=d();return g(e.onNextStep())}),u(5,"\u4E0B\u4E00\u6B65"),a()}if(p&2){let t=d();i("formGroup",t.formGroup),r(1),i("formGroup",t.formGroup)("name","email")("type","email")("formControlName","email")("title","\u96FB\u5B50\u4FE1\u7BB1")("placeholder","hello@exsample.com"),r(1),i("formGroup",t.formGroup)("name","password")("type","password")("formControlName","password")("title","\u5BC6\u78BC")("placeholder","\u8ACB\u8F38\u5165\u5BC6\u78BC"),r(1),i("formGroup",t.formGroup)("name","repeatPassword")("type","password")("formControlName","repeatPassword")("title","\u78BA\u8A8D\u5BC6\u78BC")("placeholder","\u8ACB\u518D\u8F38\u5165\u4E00\u6B21\u5BC6\u78BC"),r(1),i("disabled",t.formGroup.controls.email.invalid||t.formGroup.controls.password.invalid||t.formGroup.controls.repeatPassword.invalid)}}function oe(p,l){if(p&1){let t=v();n(0,"div",17),m(1,"app-input",20)(2,"app-input",20),n(3,"div")(4,"p",21),u(5,"\u751F\u65E5"),a(),n(6,"div",22),m(7,"app-select",23)(8,"app-select",23)(9,"app-select",23),a()(),n(10,"div",24)(11,"p",21),u(12,"\u5730\u5740"),a(),n(13,"div",25),m(14,"app-select",26)(15,"app-select",26),a(),m(16,"app-input",27),a(),n(17,"app-checkbox",28),u(18,"\u6211\u5DF2\u95B1\u8B80\u4E26\u540C\u610F\u672C\u7DB2\u7AD9\u500B\u8CC7\u4F7F\u7528\u898F\u7BC4"),a()(),n(19,"app-button",19),c("clickEvent",function(){h(t);let e=d();return g(e.onSubmit())}),u(20,"\u5B8C\u6210\u8A3B\u518A"),a()}if(p&2){let t=d();i("formGroup",t.formGroup),r(1),i("formGroup",t.formGroup)("name","name")("formControlName","name")("title","\u59D3\u540D")("placeholder","\u8ACB\u8F38\u5165\u59D3\u540D"),r(1),i("formGroup",t.formGroup)("name","phone")("formControlName","phone")("title","\u624B\u6A5F\u865F\u78BC")("placeholder","\u8ACB\u8F38\u5165\u624B\u6A5F\u865F\u78BC"),r(5),i("formGroup",t.formGroup)("name","year")("formControlName","year")("options",t.yearList),r(1),i("formGroup",t.formGroup)("name","month")("formControlName","month")("options",t.monthList),r(1),i("formGroup",t.formGroup)("name","day")("formControlName","day")("options",t.dayList),r(1),i("formGroup",t.formGroup.controls.address),r(4),i("formGroup",t.formGroup.controls.address)("name","city")("formControlName","city")("options",t.cityList),r(1),i("formGroup",t.formGroup.controls.address)("name","zipcode")("formControlName","zipcode")("options",t.regionList),r(1),i("formGroup",t.formGroup.controls.address)("name","detail")("formControlName","detail")("placeholder","\u8ACB\u8F38\u5165\u8A73\u7D30\u5730\u5740"),r(1),i("formControlName","isReaded"),r(2),i("disabled",t.formGroup.invalid||!t.formGroup.controls.isReaded.value)}}function re(p,l){if(p&1){let t=v();n(0,"div",29)(1,"app-button",30),c("clickEvent",function(){h(t);let e=d();return g(e.isOpenMenu=!1)}),a(),n(2,"div",31)(3,"app-button",32),c("click",function(){h(t);let e=d();return g(e.routerPage("/rooms"))}),u(4,"\u5BA2\u623F\u65C5\u5BBF"),a(),n(5,"app-button",32),c("click",function(){h(t);let e=d();return g(e.routerPage("/login"))}),u(6,"\u6703\u54E1\u767B\u5165"),a(),n(7,"app-button",33),c("click",function(){h(t);let e=d();return g(e.routerPage("/rooms"))}),u(8,"\u7ACB\u5373\u8A02\u623F"),a()()()}p&2&&(r(1),i("buttonType","ghost")("rightIcon","close")("iconSize","md"),r(2),i("buttonType","ghost"),r(2),i("buttonType","ghost"),r(2),i("buttonType","primary"))}var _e=(()=>{let l=class l{constructor(){this.currentStep=_(1),this.stepperArray=_([{step:1,stepDesc:"\u8F38\u5165\u4FE1\u7BB1\u53CA\u5BC6\u78BC",completed:!1},{step:2,stepDesc:"\u586B\u5BEB\u57FA\u672C\u8CC7\u6599",completed:!1}]),this.dayList=[],this.isOpenMenu=!1,this.fb=b(R),this.registerService=b(J),this.router=b(k)}ngOnInit(){this.initFormGroup(),this.setYearList(),this.setMonthList(),this.setDayList(this.formGroup.controls.year.value,this.formGroup.controls.month.value),this.setCityList(),this.setRegionList(this.formGroup.controls.address.controls.city.value),this.formGroup.controls.year.valueChanges.subscribe(o=>{this.setDayList(o,this.formGroup.controls.month.value),this.formGroup.controls.day.setValue(this.dayList[0].value)}),this.formGroup.controls.month.valueChanges.subscribe(o=>{this.setDayList(this.formGroup.controls.year.value,o),this.formGroup.controls.day.setValue(this.dayList[0].value)}),this.formGroup.controls.address.controls.city.valueChanges.subscribe(o=>{this.setRegionList(o),this.formGroup.controls.address.controls.zipcode.setValue(this.regionList[0].value)})}onNextStep(){this.stepperArray.update(o=>{let e=o.find(s=>s.step===this.currentStep());return e&&(e.completed=!0),o}),this.currentStep.set(this.currentStep()+1)}setYearList(){let o=new Date().getFullYear(),e=1990;this.yearList=Array.from({length:o-e+1},(s,f)=>({label:`${e+f} \u5E74`,value:`${e+f}`}))}setMonthList(){this.monthList=Array.from({length:12},(e,s)=>({label:`${1+s} \u6708`,value:`${1+s}`}))}setDayList(o,e){let s=new Date(Number(o),Number(e),0).getDate();this.dayList=Array.from({length:s},(f,C)=>({label:`${C+1} \u65E5`,value:`${C+1}`}))}setCityList(){this.cityList=w.map(o=>({label:o.name,value:o.code.toString()}))}setRegionList(o){this.regionList=w.find(e=>e.code.toString()===o).region.map(e=>({label:e.name,value:e.code.toString()}))}initFormGroup(){this.formGroup=this.fb.group({name:this.fb.control("",{nonNullable:!0,validators:S("\u8ACB\u8F38\u5165\u59D3\u540D")}),email:this.fb.control("",{nonNullable:!0,validators:Y()}),password:this.fb.control("",{nonNullable:!0,validators:$()}),repeatPassword:this.fb.control("",{nonNullable:!0}),phone:this.fb.control("",{nonNullable:!0,validators:I()}),year:this.fb.control("1990",{nonNullable:!0}),month:this.fb.control("1",{nonNullable:!0}),day:this.fb.control("1",{nonNullable:!0}),address:this.fb.group({city:this.fb.control("100",{nonNullable:!0}),zipcode:this.fb.control("104",{nonNullable:!0}),detail:this.fb.control("",{nonNullable:!0,validators:S("\u8ACB\u8F38\u5165\u5730\u5740")})}),isReaded:this.fb.control(!1,{nonNullable:!0})}),this.formGroup.controls.repeatPassword.setValidators(O(this.formGroup))}onSubmit(){let{name:o,email:e,password:s,phone:f,year:C,month:K,day:Q,address:U}=this.formGroup.value,{zipcode:W,detail:X}=U,Z={name:o,email:e,password:s,phone:f,birthday:`${C}/${K}/${Q}`,address:{zipcode:+W,detail:X}};this.registerService.postSignup(Z).subscribe({next:y=>{y.status&&this.router.navigate(["/login"])},error:y=>{alert(y.error.message)}})}routerPage(o){this.router.navigate([o]),this.isOpenMenu=!1}};l.\u0275fac=function(e){return new(e||l)},l.\u0275cmp=E({type:l,selectors:[["app-register-page"]],standalone:!0,features:[N],decls:23,vars:8,consts:[[1,"flex","items-center","justify-between","px-20","py-6","bg-black"],["src","./assets/images/desktop/logo.png","alt","",1,"w-[12.25rem]","h-[4.5rem]"],[1,"block","text-white","lg:hidden"],[1,"text-white",3,"buttonType","rightIcon","iconSize","clickEvent"],[1,"bg-black","h-screen","relative","overflow-x-hidden"],["src","./assets/images/desktop/line2.png","alt","",1,"w-full","h-[11.75rem]","absolute","top-[4.5rem]","right-0","z-10"],[1,"flex","h-full","items-center","relative","z-20"],[1,"hidden","w-[55%]","h-full","bg-center","bg-cover","bg-[url('./assets/images/desktop/register.png')]","lg:block"],[1,"w-[26rem]","mx-auto"],[1,"text-title","text-primary-base","mb-2"],[1,"text-white","mb-4"],[1,"flex","justify-center","mb-10"],[1,"w-full",3,"stepArray","currentStep"],[1,"flex","items-center","gap-2"],[1,"text-white"],[3,"buttonType","click"],["class","flex items-center justify-center absolute w-full h-screen bg-black z-50 top-0 left-0 lg:hidden"],[1,"flex","flex-col","gap-4","mb-10",3,"formGroup"],[1,"text-white",3,"formGroup","name","type","formControlName","title","placeholder"],[1,"mb-4",3,"disabled","clickEvent"],[1,"text-white",3,"formGroup","name","formControlName","title","placeholder"],[1,"text-white","font-bold","mb-2"],[1,"flex","gap-3"],[1,"w-1/3",3,"formGroup","name","formControlName","options"],[3,"formGroup"],[1,"flex","gap-2","mb-4"],[1,"w-1/2",3,"formGroup","name","formControlName","options"],[1,"text-white",3,"formGroup","name","formControlName","placeholder"],[3,"formControlName"],[1,"flex","items-center","justify-center","absolute","w-full","h-screen","bg-black","z-50","top-0","left-0","lg:hidden"],[1,"absolute","top-5","right-5","text-white",3,"buttonType","rightIcon","iconSize","clickEvent"],[1,"w-full","flex","flex-col","px-5","items-center","gap-4"],[1,"text-white",3,"buttonType","click"],[1,"w-full",3,"buttonType","click"]],template:function(e,s){e&1&&(n(0,"header",0),m(1,"img",1),n(2,"div",2)(3,"app-button",3),c("clickEvent",function(){return s.isOpenMenu=!0}),a()()(),n(4,"div",4),m(5,"img",5),n(6,"div",6),m(7,"div",7),n(8,"div",8)(9,"p",9),u(10,"\u4EAB\u6A02\u9152\u5E97\uFF0C\u8AA0\u646F\u6B61\u8FCE"),a(),n(11,"h1",10),u(12,"\u7ACB\u5373\u8A3B\u518A"),a(),n(13,"div",11),m(14,"app-stepper",12),a(),x(15,te,6,20)(16,oe,21,38),n(17,"div",13)(18,"p",14),u(19,"\u5DF2\u7D93\u6709\u6703\u54E1\u4E86\u55CE\uFF1F"),a(),n(20,"app-button",15),c("click",function(){return s.routerPage("/login")}),u(21,"\u7ACB\u5373\u767B\u5165"),a()()()()(),x(22,re,9,6,"div",16)),e&2&&(r(3),i("buttonType","ghost")("rightIcon","menu")("iconSize","md"),r(11),i("stepArray",s.stepperArray())("currentStep",s.currentStep()),r(1),G(15,s.currentStep()===1?15:s.currentStep()===2?16:-1),r(5),i("buttonType","text"),r(2),G(22,s.isOpenMenu?22:-1))},dependencies:[M,q,A,H,j,z,D,L,V,P,T]});let p=l;return p})();export{_e as default};
